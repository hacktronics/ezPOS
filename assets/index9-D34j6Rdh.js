import{d as c,n as p,p as k}from"./index-DZpm7Dsx.js";const B=e=>{if(void 0===c)return;let o=10*-E,a=0,i,n,s;const r=e.getBoolean("animated",!0)&&e.getBoolean("rippleEffect",!0),d=new WeakMap,t=e=>{o=p(e),f(e)},l=()=>{s&&clearTimeout(s),s=void 0,i&&(w(!1),i=void 0)},v=e=>{i||m(y(e),e)},f=e=>{m(void 0,e)},m=(e,t)=>{if(!e||e!==i){s&&clearTimeout(s),s=void 0;const{x:o,y:a}=k(t);if(i){if(d.has(i))throw new Error("internal error");i.classList.contains(u)||L(i,o,a),w(!0)}e&&((t=d.get(e))&&(clearTimeout(t),d.delete(e)),e.classList.remove(u),t=()=>{L(e,o,a),s=void 0},b(e)?t():s=setTimeout(t,q)),i=e}},L=(e,t,o)=>{a=Date.now(),e.classList.add(u),r&&null!==(e=U(e))&&(h(),n=e.addRipple(t,o))},h=()=>{void 0!==n&&(n.then(e=>e()),n=void 0)},w=e=>{h();const t=i;var o;t&&(o=g-Date.now()+a,e&&0<o&&!b(t)?(e=setTimeout(()=>{t.classList.remove(u),d.delete(t)},g),d.set(t,e)):t.classList.remove(u))};c.addEventListener("ionGestureCaptured",l),c.addEventListener("touchstart",e=>{o=p(e),v(e)},!0),c.addEventListener("touchcancel",t,!0),c.addEventListener("touchend",t,!0),c.addEventListener("pointercancel",l,!0),c.addEventListener("mousedown",e=>{var t;2!==e.button&&(t=p(e)-E,o<t)&&v(e)},!0),c.addEventListener("mouseup",e=>{var t=p(e)-E;o<t&&f(e)},!0)},y=e=>{if(void 0===e.composedPath)return e.target.closest(".ion-activatable");var t=e.composedPath();for(let e=0;e<t.length-2;e++){var o=t[e];if(!(o instanceof ShadowRoot)&&o.classList.contains("ion-activatable"))return o}},b=e=>e.classList.contains("ion-activatable-instant"),U=e=>{if(e.shadowRoot){var t=e.shadowRoot.querySelector("ion-ripple-effect");if(t)return t}return e.querySelector("ion-ripple-effect")},u="ion-activated",q=100,g=150,E=2500;export{B as startTapClick};
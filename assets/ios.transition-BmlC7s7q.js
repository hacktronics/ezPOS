import{x as r,y as Z}from"./index-DZpm7Dsx.js";const j=540,z=t=>document.querySelector("".concat(t,".ion-cloned-element")),b=t=>t.shadowRoot||t,H=t=>{var e="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs"),o="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";return null!=e?null!=(e=e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)"))?e.querySelector(o):null:t.querySelector(o)},M=(t,e)=>{var o="ION-TABS"===t.tagName?t:t.querySelector("ion-tabs");let n=[];null!=o?null!=(o=o.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)"))&&(n=o.querySelectorAll("ion-buttons")):n=t.querySelectorAll("ion-buttons");for(const s of n){var r=s.closest("ion-header"),r=r&&!r.classList.contains("header-collapse-condense-inactive"),a=s.querySelector("ion-back-button"),l=s.classList.contains("buttons-collapse"),c="start"===s.slot||""===s.slot;if(null!==a&&c&&(l&&r&&e||!l))return a}return null},J=(t,e,o,n,r)=>{var a,l,c,s,i,d=M(n,o),f=H(r),n=H(n),r=M(r,o),m=null!==d&&null!==f&&!o,y=null!==n&&null!==r&&o;return m?(l=f.getBoundingClientRect(),c=d.getBoundingClientRect(),i=(s=b(d).querySelector(".button-text")).getBoundingClientRect(),a=b(f).querySelector(".toolbar-title").getBoundingClientRect(),G(t,e,o,f,l,a,s,i),k(t,e,o,d,c,s,i,f,a)):y&&(l=n.getBoundingClientRect(),d=r.getBoundingClientRect(),s=(c=b(r).querySelector(".button-text")).getBoundingClientRect(),i=b(n).querySelector(".toolbar-title").getBoundingClientRect(),G(t,e,o,n,l,i,c,s),k(t,e,o,r,d,c,s,n,i)),{forward:m,backward:y}},k=(t,e,o,n,a,l,c,s,i)=>{const d=e?"calc(100% - ".concat(a.right+4,"px)"):"".concat(a.left-4,"px"),f=e?"right":"left",m=e?"left":"right",y=e?"right":"left",p=(null==(l=l.textContent)?void 0:l.trim())===(null==(l=s.textContent)?void 0:l.trim()),u=i.width/c.width,S=(i.height-U)/c.height,g=(p?"scale(".concat(u,", "):"scale(").concat(S,")"),h="scale(1)",q=b(n).querySelector("ion-icon").getBoundingClientRect(),T="".concat(e?q.width/2-(q.right-a.right):a.left-q.width/2,"px"),x=e?"-".concat(window.innerWidth-a.right,"px"):"".concat(a.left,"px"),X="".concat(i.top,"px"),E="".concat(a.top,"px"),A=[{offset:0,transform:"translate3d(".concat(T,", ").concat(X,", 0)")},{offset:1,transform:"translate3d(".concat(x,", ").concat(E,", 0)")}],v=[{offset:0,transform:"translate3d(".concat(x,", ").concat(E,", 0)")},{offset:1,transform:"translate3d(".concat(T,", ").concat(X,", 0)")}],C=o?v:A,w=o?[{offset:0,opacity:1,transform:h},{offset:1,opacity:0,transform:g}]:[{offset:0,opacity:0,transform:g},{offset:1,opacity:1,transform:h}],k=o?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],B=r(),P=r(),R=r(),L=z("ion-back-button"),W=b(L).querySelector(".button-text"),D=b(L).querySelector("ion-icon");L.text=n.text,L.mode=n.mode,L.icon=n.icon,L.color=n.color,L.disabled=n.disabled,L.style.setProperty("display","block"),L.style.setProperty("position","fixed"),P.addElement(D),B.addElement(W),R.addElement(L),R.beforeStyles({position:"absolute",top:"0px",[y]:"0px"}).keyframes(C),B.beforeStyles({"transform-origin":"".concat(f," top")}).beforeAddWrite(()=>{n.style.setProperty("display","none"),L.style.setProperty(f,d)}).afterAddWrite(()=>{n.style.setProperty("display",""),L.style.setProperty("display","none"),L.style.removeProperty(f)}).keyframes(w),P.beforeStyles({"transform-origin":"".concat(m," center")}).keyframes(k),t.addAnimation([B,P,R])},G=(t,e,o,n,a,l,c,s)=>{const i=e?"right":"left",d=e?"calc(100% - ".concat(a.right,"px)"):"".concat(a.left,"px"),f="".concat(a.top,"px"),m=e?"-".concat(window.innerWidth-s.right-8,"px"):"".concat(s.x-8,"px"),y="".concat(s.y-2,"px"),p=(null==(e=c.textContent)?void 0:e.trim())===(null==(c=n.textContent)?void 0:c.trim()),u=s.width/l.width,b=s.height/(l.height-U),S="scale(1)",g=(p?"scale(".concat(u,", "):"scale(").concat(b,")"),h=[{offset:0,opacity:0,transform:"translate3d(".concat(m,", ").concat(y,", 0) ").concat(g)},{offset:.1,opacity:0},{offset:1,opacity:1,transform:"translate3d(".concat("0px",", ").concat(f,", 0) ").concat(S)}],q=[{offset:0,opacity:.99,transform:"translate3d(".concat("0px",", ").concat(f,", 0) ").concat(S)},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(m,", ").concat(y,", 0) ").concat(g)}],T=o?h:q,x=z("ion-title"),X=r();x.innerText=n.innerText,x.size=n.size,x.color=n.color,X.addElement(x),X.beforeStyles({"transform-origin":"".concat(i," top"),height:"".concat(a.height,"px"),display:"",position:"relative",[i]:d}).beforeAddWrite(()=>{n.style.setProperty("opacity","0")}).afterAddWrite(()=>{n.style.setProperty("opacity",""),x.style.setProperty("display","none")}).keyframes(T),t.addAnimation(X)},V=(t,e)=>{var o,n,a,l,c,s,i,d;try{const x="opacity",X="transform",E="0%",A="rtl"===t.ownerDocument.dir,v=A?"-99.5%":"99.5%",C=A?"33%":"-33%",w=e.enteringEl,k=e.leavingEl,B="back"===e.direction,P=w.querySelector(":scope > ion-content"),R=w.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),L=w.querySelectorAll(":scope > ion-header > ion-toolbar"),W=r(),z=r();W.addElement(w).duration((null!=(o=e.duration)?o:0)||j).easing(e.easing||"cubic-bezier(0.32,0.72,0,1)").fill("both").beforeRemoveClass("ion-page-invisible"),k&&null!=t&&((n=r()).addElement(t),W.addAnimation(n)),P||0!==L.length||0!==R.length?(z.addElement(P),z.addElement(R)):z.addElement(w.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),W.addAnimation(z),B?z.beforeClearStyles([x]).fromTo("transform","translateX(".concat(C,")"),"translateX(".concat(E,")")).fromTo(x,.8,1):z.beforeClearStyles([x]).fromTo("transform","translateX(".concat(v,")"),"translateX(".concat(E,")")),P&&(a=b(P).querySelector(".transition-effect"))&&(l=a.querySelector(".transition-cover"),c=a.querySelector(".transition-shadow"),s=r(),i=r(),d=r(),s.addElement(a).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),i.addElement(l).beforeClearStyles([x]).fromTo(x,0,.1),d.addElement(c).beforeClearStyles([x]).fromTo(x,.03,.7),s.addAnimation([i,d]),z.addAnimation([s]));const D=w.querySelector("ion-header.header-collapse-condense"),{forward:N,backward:G}=J(W,A,B,w,k);if(L.forEach(t=>{var e=r(),o=(e.addElement(t),W.addAnimation(e),r());o.addElement(t.querySelector("ion-title"));const n=r(),a=Array.from(t.querySelectorAll("ion-buttons,[menuToggle]")),l=t.closest("ion-header"),c=null==l?void 0:l.classList.contains("header-collapse-condense-inactive");let s;s=B?a.filter(t=>{t=t.classList.contains("buttons-collapse");return t&&!c||!t}):a.filter(t=>!t.classList.contains("buttons-collapse")),n.addElement(s);var i=r(),d=(i.addElement(t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])")),r()),f=(d.addElement(b(t).querySelector(".toolbar-background")),r()),t=t.querySelector("ion-back-button");t&&f.addElement(t),e.addAnimation([o,n,i,d,f]),n.fromTo(x,.01,1),i.fromTo(x,.01,1),B?(c||o.fromTo("transform","translateX(".concat(C,")"),"translateX(".concat(E,")")).fromTo(x,.01,1),i.fromTo("transform","translateX(".concat(C,")"),"translateX(".concat(E,")")),f.fromTo(x,.01,1)):(D||o.fromTo("transform","translateX(".concat(v,")"),"translateX(".concat(E,")")).fromTo(x,.01,1),i.fromTo("transform","translateX(".concat(v,")"),"translateX(".concat(E,")")),d.beforeClearStyles([x,"transform"]),null!=l&&l.translucent?d.fromTo("transform",A?"translateX(-100%)":"translateX(100%)","translateX(0px)"):d.fromTo(x,.01,"var(--opacity)"),N||f.fromTo(x,.01,1),t&&!N&&((o=r()).addElement(b(t).querySelector(".button-text")).fromTo("transform",A?"translateX(-100px)":"translateX(100px)","translateX(0px)"),e.addAnimation(o)))}),k){var f,m,y,p,u,S,g=r(),h=k.querySelector(":scope > ion-content"),q=k.querySelectorAll(":scope > ion-header > ion-toolbar"),T=k.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(h||0!==q.length||0!==T.length?(g.addElement(h),g.addElement(T)):g.addElement(k.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),W.addAnimation(g),B){g.beforeClearStyles([x]).fromTo("transform","translateX(".concat(E,")"),A?"translateX(-100%)":"translateX(100%)");const H=Z(k);W.afterAddWrite(()=>{"normal"===W.getDirection()&&H.style.setProperty("display","none")})}else g.fromTo("transform","translateX(".concat(E,")"),"translateX(".concat(C,")")).fromTo(x,1,.8);h&&(f=b(h).querySelector(".transition-effect"))&&(m=f.querySelector(".transition-cover"),y=f.querySelector(".transition-shadow"),p=r(),u=r(),S=r(),p.addElement(f).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),u.addElement(m).beforeClearStyles([x]).fromTo(x,.1,0),S.addElement(y).beforeClearStyles([x]).fromTo(x,.7,.03),p.addAnimation([u,S]),g.addAnimation([p])),q.forEach(t=>{var e=r(),o=(e.addElement(t),r());o.addElement(t.querySelector("ion-title"));const n=r(),a=t.querySelectorAll("ion-buttons,[menuToggle]"),l=t.closest("ion-header"),c=null==l?void 0:l.classList.contains("header-collapse-condense-inactive"),s=Array.from(a).filter(t=>{t=t.classList.contains("buttons-collapse");return t&&!c||!t});n.addElement(s);var i=r(),d=t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"),d=(0<d.length&&i.addElement(d),r()),f=(d.addElement(b(t).querySelector(".toolbar-background")),r()),t=t.querySelector("ion-back-button");t&&f.addElement(t),e.addAnimation([o,n,i,f,d]),W.addAnimation(e),f.fromTo(x,.99,0),n.fromTo(x,.99,0),i.fromTo(x,.99,0),B?(c||o.fromTo("transform","translateX(".concat(E,")"),A?"translateX(-100%)":"translateX(100%)").fromTo(x,.99,0),i.fromTo("transform","translateX(".concat(E,")"),A?"translateX(-100%)":"translateX(100%)"),d.beforeClearStyles([x,"transform"]),null!=l&&l.translucent?d.fromTo("transform","translateX(0px)",A?"translateX(-100%)":"translateX(100%)"):d.fromTo(x,"var(--opacity)",0),t&&!G&&((d=r()).addElement(b(t).querySelector(".button-text")).fromTo("transform","translateX(".concat(E,")"),"translateX(".concat((A?-124:124)+"px",")")),e.addAnimation(d))):(c||o.fromTo("transform","translateX(".concat(E,")"),"translateX(".concat(C,")")).fromTo(x,.99,0).afterClearStyles([X,x]),i.fromTo("transform","translateX(".concat(E,")"),"translateX(".concat(C,")")).afterClearStyles([X,x]),f.afterClearStyles([x]),o.afterClearStyles([x]),n.afterClearStyles([x]))})}return W}catch(t){throw t}},U=10;export{V as iosTransitionAnimation,b as shadow};
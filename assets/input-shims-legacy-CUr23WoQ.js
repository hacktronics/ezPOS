System.register(["./index-legacy-CkvIY1Fm.js"],function(e,t){"use strict";var g,S,L,D,k,x,A,M,K,B,P;return{setters:[e=>{g=e.d,S=e.K,L=e.l,D=e.m,k=e.k,x=e.j,A=e.o,M=e.q,K=e.t,B=e.u,P=e.v}],execute:function(){const s=new WeakMap,y=(e,t,o,n=0,i=!1)=>{s.has(e)!==o&&(o?r(e,t,n,i):a(e,t))},r=(e,t,o,n=!1)=>{var i=t.parentNode,r=t.cloneNode(!1),n=(r.classList.add("cloned-input"),r.tabIndex=-1,n&&(r.disabled=!0),i.appendChild(r),s.set(e,r),"rtl"===e.ownerDocument.dir?9999:-9999);e.style.pointerEvents="none",t.style.transform=`translate3d(${n}px,${o}px,0) scale(0)`},a=(e,t)=>{var o=s.get(e);o&&(s.delete(e),o.remove()),e.style.pointerEvents="",t.style.transform=""},p="input, textarea, [no-blur], [contenteditable]",v=(e,t,o,n)=>{var i=e.top,e=e.bottom,r=t.top,s=r+15,t=Math.min(t.bottom,n-o)-50-e,n=s-i,e=Math.round(t<0?-t:0<n?-n:0),t=Math.min(e,i-r),n=Math.abs(t)/.3;return{scrollAmount:t,scrollDuration:Math.min(400,Math.max(150,n)),scrollPadding:o,inputSafeY:4-(i-s)}},i="$ionPaddingTimer",m=(e,t,o)=>{var n=e[i];n&&clearTimeout(n),0<t?e.style.setProperty("--keyboard-offset",t+"px"):e[i]=setTimeout(()=>{e.style.setProperty("--keyboard-offset","0px"),o&&o()},120)},f=(e,t,o)=>{e.addEventListener("focusout",()=>{t&&m(t,0,o)},{once:!0})};let w=0;const h="data-ionic-skip-scroll-assist",b=e=>{document.activeElement!==e&&(e.setAttribute(h,"true"),e.focus())},E=async(t,o,n,e,i,r,s=!1,a=0,d=!0)=>{if(n||e){e=n||e,i=i,a=a,c=null!=(c=(l=t).closest("ion-item,[ion-item]"))?c:l;const u=v(c.getBoundingClientRect(),e.getBoundingClientRect(),i,a);var l,c;if(n&&Math.abs(u.scrollAmount)<4)b(o),r&&null!==n&&(m(n,w),f(o,n,()=>w=0));else if(y(t,o,!0,u.inputSafeY,s),b(o),K(()=>t.click()),r&&n&&(w=u.scrollPadding,m(n,w)),"undefined"!=typeof window){let e;const i=async()=>{void 0!==e&&clearTimeout(e),window.removeEventListener("ionKeyboardDidShow",s),window.removeEventListener("ionKeyboardDidShow",i),n&&await P(n,0,u.scrollAmount,u.scrollDuration),y(t,o,!1,u.inputSafeY),b(o),r&&f(o,n,()=>w=0)},s=()=>{window.removeEventListener("ionKeyboardDidShow",s),window.addEventListener("ionKeyboardDidShow",i)};if(n){const t=await B(n),r=t.scrollHeight-t.clientHeight;if(d&&u.scrollAmount>r-t.scrollTop)return"password"===o.type?(u.scrollAmount+=50,window.addEventListener("ionKeyboardDidShow",s)):window.addEventListener("ionKeyboardDidShow",i),void(e=setTimeout(i,1e3))}i()}}};e("startInputShims",async(e,t)=>{if(void 0!==g){const o="ios"===t,r="android"===t,s=e.getNumber("keyboardHeight",290),a=e.getBoolean("scrollAssist",!0),d=e.getBoolean("hideCaretOnScroll",o),n=e.getBoolean("inputBlurring",o),l=e.getBoolean("scrollPadding",!0),i=Array.from(g.querySelectorAll("ion-input, ion-textarea")),c=new WeakMap,u=new WeakMap,v=await S.getResizeMode(),m=async t=>{await new Promise(e=>k(t,e));const e=t.shadowRoot||t,o=e.querySelector("input")||e.querySelector("textarea"),n=x(t),i=n?null:t.closest("ion-footer");if(o){if(n&&d&&!c.has(t)){const e=((t,o,e)=>{if(!e||!o)return()=>{};const n=e=>{o===o.getRootNode().activeElement&&y(t,o,e)},i=()=>y(t,o,!1),r=()=>n(!0),s=()=>n(!1);return L(e,"ionScrollStart",r),L(e,"ionScrollEnd",s),o.addEventListener("blur",i),()=>{D(e,"ionScrollStart",r),D(e,"ionScrollEnd",s),o.removeEventListener("blur",i)}})(t,o,n);c.set(t,e)}if("date"!==o.type&&"datetime-local"!==o.type&&(n||i)&&a&&!u.has(t)){const e=((t,o,n,i,e,r,s,a)=>{const d=r&&(void 0===s||s.mode===A.None);let l=!1;const c=void 0!==M?M.innerHeight:0,u=e=>{!1!==l?E(t,o,n,i,e.detail.keyboardHeight,d,a,c,!1):l=!0},v=()=>{l=!1,null!=M&&M.removeEventListener("ionKeyboardDidShow",u),t.removeEventListener("focusout",v,!0)},m=async()=>{o.hasAttribute(h)?o.removeAttribute(h):(E(t,o,n,i,e,d,a,c),null!=M&&M.addEventListener("ionKeyboardDidShow",u),t.addEventListener("focusout",v,!0))};return t.addEventListener("focusin",m,!0),()=>{t.removeEventListener("focusin",m,!0),null!=M&&M.removeEventListener("ionKeyboardDidShow",u),t.removeEventListener("focusout",v,!0)}})(t,o,n,i,s,l,v,r);u.set(t,e)}}};if(n){let o=!0,n=!1;const f=document;L(f,"ionScrollStart",()=>{n=!0}),f.addEventListener("focusin",()=>{o=!0},!0),f.addEventListener("touchend",e=>{if(n)n=!1;else{const t=f.activeElement;!t||t.matches(p)||(e=e.target)===t||e.matches(p)||e.closest(p)||(o=!1,setTimeout(()=>{o||t.blur()},50))}},!1)}for(const g of i)m(g);g.addEventListener("ionInputDidLoad",e=>{m(e.detail)}),g.addEventListener("ionInputDidUnload",e=>{var t;e=e.detail,d&&((t=c.get(e))&&t(),c.delete(e)),a&&((t=u.get(e))&&t(),u.delete(e))})}})}}});